<!DOCTYPE html>
 <html lang="en">
 <head>
   <link rel="stylesheet" href="Bat-Ball Game.css">
   <style>
     body{
       text-align:center;
     }
   </style>
   <title>Cricket Game</title>
 </head>
 <body>
   <h1>Bat Ball Stump Game</h1>
   
 
 
   <button class="choice-button" onclick="
   
   
   let computerChoice = generateComputerChoice ();
 let resultMsg =getResult('Bat' ,computerChoice);
 showResult('Bat',computerChoice,resultMsg);
 
 
   "> 
   <img src="images/download.jpg" alt="Bat image" class="choice-image"> </button>
 
 
 
 
   <button   class="choice-button" onclick="
   let computerChoice = generateComputerChoice ();
   let resultMsg =getResult('Ball' ,computerChoice);
   showResult('Ball',computerChoice,resultMsg)
   ">
   <img src="images/download_1.jpg" alt="Ball image" class="choice-image">
 </button>
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
   <button  class="choice-button"  onclick="
   let computerChoice =generateComputerChoice ();
   let resultMsg =getResult('Stump' ,computerChoice)
 
 showResult('Stump',computerChoice,resultMsg);
   ">
   <img src="images/download_2.jpg" alt="stump image" class="choice-image">
 </button>
 <h3 id="user-move"></h3>
 <h3 id="computer-move"></h3>
 <h3 id="result"></h3>
 <h3 id="score"></h3>
 
 
 
 <button onclick="localStorage.clear()
 
 resetScore();
   
 ">Reset</button>
 
 
 
 
 
 <script>
   let scoreStr =localStorage.getItem('Score');
   let score;
   resetScore(scoreStr);
 function resetScore( scoreStr){
   score = scoreStr ? JSON.parse(scoreStr) :{
   win:0,
   lost:0,
   tie:0,
 };
  score.displayScore = function(){
   return `Score:Won:${score.win}, Lost:${score.lost}, Tie: ${score.tie}`;
  };
 
  showResult();
 }
 
   // let score =JSON.parse(scoreStr) ||{
   // win:0,
   // lost:0,
   // tie:0,
 //  ;
 //   if(scoreStr!=undefined){
 //   score=JSON.parse(scoreStr);
 //    } else{
 //   score={
 //   win:0,
 //   lost:0,
 //   tie:0,
 
   
 //   }
 // }
 
 
 
   
   function generateComputerChoice () {
     let randomNumber =Math.random()*3;
     
   
   if (randomNumber >0 && randomNumber<=1) {
     return 'Bat'
 // console.log('computer choice is Bat');
   } else if (randomNumber>1 && randomNumber <=2) {
     return 'Ball';
     // console.log('computer choice is ball');
 
     
 
   } else {
   return 'Stump';
   // console.log('computer choice is Stump');
 } 
 
 
 
   }
 
 
   function getResult(userMove , computerMove){
     let resultMsg;
     
     if (userMove ==='Bat'){
       if(computerMove==='Ball'){
         score.win ++;
   return'user won'
       }else if (computerMove==='Bat'){
         score.tie++;
          return`it's a tie`
       } else if (computerMove==='Stump'){
         score.lost++;
          return'computer won';
       }
 
 
 
 
     } else if (userMove==='Ball'){
       if(computerMove==='Ball'){
         score.tie++;
   return`it's a tie`
 }else if (computerMove ==='Bat'){
   score.lost++;
    return'Computer won';
 } else if (computerMove ==='Stump'){
   score.win ++;
    return'user won';
 }
     }  else {
       if(computerMove==='Ball'){
         score.lost++;
          return'Computer won';
       } else if(computerMove==='Bat'){
         score.win ++;
         return 'user won';
 }else if (computerMove ==='Stump'){
   score.tie++;
    return`it's a tie`
 }
       };
       showResult();
     }
 
 
 
 function showResult(userMove,computerMove,result){
 
   localStorage.setItem('score',JSON.stringify(score));
   document.querySelector('#user-move').innerText=
   userMove ?
   `You have chosen ${userMove}` : ' ';
 
 
   document.querySelector('#computer-move').innerText = computerMove ?
   `Computer chose ${computerMove}` : '';
 
 
   document.querySelector('#result').innerText = result ? result: '';
 
 
   document.querySelector('#score').innerText = score.displayScore();
 
 
   // console.log(score);
 //   alert(`You have chosen ${userMove} . Computer choice is ${computerMove} 
 
 //     ${result}
 
 //  ${score.displayScore()} `);
 }
 
 
 
 </script>
 
 
 </body>
 </html>
